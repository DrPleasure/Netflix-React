{"ast":null,"code":"var _jsxFileName = \"/Users/turkerozman/Desktop/Code/Github/BE/Netflix-React/src/components/movieGallery.jsx\";\nimport React from \"react\";\nimport { Spinner, Carousel, Row, Col, Alert } from \"react-bootstrap\";\nimport { Grid } from \"react-bootstrap-icons\";\n\n// create a key value with your API key\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet key = `daa9e658`;\n\n// Create a class because we need to be able to alter states\nclass MovieGallery extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      isLoading: true,\n      isError: false,\n      movies: []\n    };\n    this.fetchMovies = async () => {\n      try {\n        let url = `http://www.omdbapi.com/?apikey=${key}&s=${encodeURIComponent(\n        //make the search query lowercase\n        this.props.search.toLowerCase())}`;\n        let response = await fetch(url);\n        if (response.ok) {\n          let data = await response.json();\n          let grid = 6; //6 movies per\n\n          const d = data.Search.reduce((resultArray, item, index) => {\n            //Convert the original \"search\" array into chunks of 6 so the carousel can slide between them!\n            const chunkIndex = Math.floor(index / grid);\n            if (!resultArray[chunkIndex]) {\n              resultArray[chunkIndex] = [];\n            }\n            resultArray[chunkIndex].push(item);\n            return resultArray;\n          }, []);\n          console.log(d);\n          this.setState({\n            ...this.state,\n            isLoading: false,\n            movies: d\n          });\n        } else {\n          this.setState({\n            ...this.state,\n            isError: true,\n            isLoading: false\n          });\n        }\n      } catch (e) {\n        this.setState({\n          ...this.state,\n          isError: true,\n          isLoading: false\n        });\n      }\n    };\n  }\n  componentDidMount() {\n    this.fetchMovies();\n  }\n\n  // Render the movies with a searchable prop on the MovieGallery element\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movie-gallery m-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-light mt-2 mb-2\",\n        children: this.props.search\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), this.state.isLoading && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 34\n      }, this), this.state.isError && /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        children: \"Error fetching the requested movies!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), !this.state.isLoading && !this.state.isError && /*#__PURE__*/_jsxDEV(Carousel, {\n        indicators: false,\n        children: this.state.movies.map(movies => /*#__PURE__*/_jsxDEV(Carousel.Item, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"movie-row\",\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: movies.map(movie => /*#__PURE__*/_jsxDEV(Col, {\n                md: 2,\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"#\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: movie.Poster,\n                    alt: \"movie-poster\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 91,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default MovieGallery;","map":{"version":3,"names":["React","Spinner","Carousel","Row","Col","Alert","Grid","key","MovieGallery","Component","state","isLoading","isError","movies","fetchMovies","url","encodeURIComponent","props","search","toLowerCase","response","fetch","ok","data","json","grid","d","Search","reduce","resultArray","item","index","chunkIndex","Math","floor","push","console","log","setState","e","componentDidMount","render","map","movie","Poster"],"sources":["/Users/turkerozman/Desktop/Code/Github/BE/Netflix-React/src/components/movieGallery.jsx"],"sourcesContent":["import React from \"react\";\nimport { Spinner, Carousel, Row, Col, Alert } from \"react-bootstrap\";\nimport { Grid } from \"react-bootstrap-icons\";\n\n// create a key value with your API key\nlet key = `daa9e658`;\n\n// Create a class because we need to be able to alter states\nclass MovieGallery extends React.Component {\n  state = {\n    isLoading: true,\n    isError: false,\n    movies: [],\n  };\n\n  // Perform the GET, no headers needed for this API\n  fetchMovies = async () => {\n    try {\n      let url = `http://www.omdbapi.com/?apikey=${key}&s=${encodeURIComponent(\n        //make the search query lowercase\n        this.props.search.toLowerCase()\n      )}`;\n      let response = await fetch(url);\n\n      if (response.ok) {\n        let data = await response.json();\n\n        let grid = 6; //6 movies per\n\n        const d = data.Search.reduce((resultArray, item, index) => {\n          //Convert the original \"search\" array into chunks of 6 so the carousel can slide between them!\n          const chunkIndex = Math.floor(index / grid);\n\n          if (!resultArray[chunkIndex]) {\n            resultArray[chunkIndex] = [];\n          }\n\n          resultArray[chunkIndex].push(item);\n\n          return resultArray;\n        }, []);\n\n        console.log(d);\n\n        this.setState({\n          ...this.state,\n          isLoading: false,\n          movies: d,\n        });\n      } else {\n        this.setState({\n          ...this.state,\n          isError: true,\n          isLoading: false,\n        });\n      }\n    } catch (e) {\n      this.setState({\n        ...this.state,\n        isError: true,\n        isLoading: false,\n      });\n    }\n  };\n\n  componentDidMount() {\n    this.fetchMovies();\n  }\n\n  // Render the movies with a searchable prop on the MovieGallery element\n  render() {\n    return (\n      <div className=\"movie-gallery m-1\">\n        <h4 className=\"text-light mt-2 mb-2\">{this.props.search}</h4>\n\n        {this.state.isLoading && <Spinner></Spinner>}\n\n        {this.state.isError && (\n          <Alert variant=\"danger\">Error fetching the requested movies!</Alert>\n        )}\n\n        {!this.state.isLoading && !this.state.isError && (\n          <Carousel indicators={false}>\n            {this.state.movies.map((movies) => (\n              <Carousel.Item>\n                <div className=\"movie-row\">\n                  <Row>\n                    {movies.map((movie) => (\n                      <Col md={2}>\n                        <a href=\"#\">\n                          <img src={movie.Poster} alt=\"movie-poster\" />\n                        </a>\n                      </Col>\n                    ))}\n                  </Row>\n                </div>\n              </Carousel.Item>\n            ))}\n          </Carousel>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default MovieGallery;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}